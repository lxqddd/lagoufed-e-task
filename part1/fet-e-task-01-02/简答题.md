### 1. 请说出下列最终的执行结果，并解释为什么

```javascript
var a = []
for(var i = 0; i<10; i++){
    a[i] = function(){
        console.log(i)
    }
}
a[6]()

答：最终的输出结果为10
	使用var关键字声明的变量会进行变量声明提升，当函数调用的时候循环已经完成，因为循环体内部的函数对i有引用，导致循环之后i不能从空间中释放，而被保存下来，此时i的值是循环之后的值，也就是10
    

```

### 2. 请说出下列最终的执行结果，并解释为什么

```javascript
var tmp = 123;
if(true){
    console.log(tmp)
    let tmp
}

答：执行结果会报错，提示tmp不能在声明之前使用
	在if的代码块中，形成了自己的一个块级作用域，在该作用域中，tmp是有被声明的，所以它不会去上一层作用域中去找tmp，但是当前作用域中声明的tmp是使用let声明的，并且是在打印语句之后，由于let声明没有变量声明提升，所以导致报错
```

### 3. 结合ES6新语法，用最简单的方式找出数组中的最小值

```javascript
var arr = [12,34,32,89,4]
答：console.log(Math.min(...arr))
```

### 4. 请详细说明var，let，const三种声明变量的方式之间的具体差别

>1. 作用域：var的作用域是整个函数，但let和const是块级作用域
>
>2. 重复定义：var可以对关键词多次定义，而let和const不可以
>3. 变量提升：var声明变量会进行变量声明提升，而let和const不会 只能在作用域中使用 不能先使用后声明
>
>4. 是否可更改：var和let声明的变量在声明之后都是可以更改的，const声明的变量在声明过后不能再进行赋值

### 5. 请说出下列代码最终输出的结果，并解释为什么

```javascript
var a = 10
var obj = {
    a:20,
    fn(){
        setTimeout(()=>{
            console.log(this.a)
        })
    }
}
obj.fn()

答：输出结果为20
	箭头函数本身没有this，它继承的是父级作用域的this，而父级作用域中的this指向的是obj
```

### 6. 简述Symbol类型的用途

1. 一种全新的原始数据类型 唯一的 避免属性名冲突

   ```javascript
   // 两个对象要合并成一个新的对象，避免因重名而被覆盖 
   const obj = {}
   obj[Symbol()] = '123'
   obj[Symbol()] = '456'
   console.log(obj)
   ```

   

2. 建立私有成员，因其唯一性的特点，类或对象的外部无法创建一个相同的属性名

3. 改变toString()默认标签

   ```javascript
   const obj = {
       [Symbol.toStringTag]:'XObject'
   }
   console.log(obj.toString())
   ```

   

4. 获取Symbol 属性名

```javascript
    Object.getOwnPropertySymbols(obj) // 获取Symbol属性名
    Object.keys(obj) 只能获取对象字符串属性名
```

### 7. 说说什么是深拷贝，什么是浅拷贝

- 浅拷贝：所谓的浅拷贝就是拷贝指向对象的指针（拷贝出来的目标对象的指针和源对象的指针指向的内存空间是同一块空间），
  浅拷贝只是一种简单的拷贝,让几个对象公用一个内存,然而当内存销毁的时候,指向这个内存空间的所有指针需要重新定义,不然会造成野指针错误
- 深拷贝：所谓的深拷贝指拷贝对象的具体内容,其内容地址是自助分配的,拷贝结束之后,内存中的值是完全相同的,但是内存地址是不一样的,两个对象之间相互不影响,也互不干涉.

### 8. 请简述TypeScript和JavaScript之间的关系

- JavaScript: 是一种可以运用到html网页上的脚本语言， 可通过浏览器进行解析执行，javascrip非常轻巧，目前市面的浏览器大部分都支持javascript语言。
- JavaScript：无特定的运行环境，只要浏览器支持，就可以运行，是一种通过对象，事件触发其运行。
- TypeScript：由Microsoft开发的面向对象语言，TypeScript是 JavaScript 的超集，包含了 JavaScript 的所有元素，在TypeScript中可以运行JavaScript代码。

### 9. 谈谈你所认为的TypeScript的优缺点

- 优点
  - 解决JavaScript类型系统的问题
  - 错误更早的发现 在编码阶段
  - 代码更加智能、准确
  - 重构更加牢靠
  - 减少不必要的类型判断
- 缺点
  - 语言本身多了很多概念
  - 不能直接被浏览识别，需要通过编译工具编译为JS代码
  - 项目初期，TypeScript会增加一些成本（适合长期大项目）

### 10. 描述引用计数的工作原理和优缺点

- 核心思想
  - 设置引用数，判断当前引用数是否为0
  - 引用计数器
  - 引用关系改变时修改引用数字
  - 引用数字为0时立即回收
- 优点
  - 发现垃圾时立即回收
  - 最大限度减少程序暂停
- 缺点
  - 无法回收循环引用的对象
  - 时间开销大

### 11. 描述标记整理算法的工作流程

- 分为三个阶段，标记、清除、整理。在标记阶段，collector从mutator根对象开始进行遍历，对从mutator根对象可以访问到的对象都打上一个标识，一般是在对象的header中，将其记录为可达对象。而在清除阶段，collector对堆内存(heap memory)从头到尾进行线性的遍历，如果发现某个对象没有标记为可达对象-通过读取对象的header信息，则将对象的地址进行移动，使其在地址上连续，然后再回收。

### 12. 描述V8中，新生代存储区垃圾回收的流程

1. 内存分配
   1. V8内存空间一分为二
   2. 小空间用于存储新生代对象
   3. 新生代指的是存活时间较短的对象
2. 新生代对象回收实现
   1. 回收过程采用复制算法+标记整理
   2. 新生代内存区分为两个等大小空间
   3. 使用空间为From，空闲空间为To
   4. 活动对象存储于From空间
   5. 标记整理后将活动对象拷贝至To
   6. From与To交换空间完成释放
3. 回收细节说明
   1. 拷贝过程中可能出现晋升
   2. 晋升就是将新生代对象移至老生代
   3. 一轮GC还存活的新生代需要晋升
   4. To空间的使用率超过25%

### 13. 描述标记增量算法再何时使用，及工作原理

1. JS程序执行过程中，会伴随着垃圾回收的工作
2. 当垃圾回收工作时，需要遍历对象进行标记，此时不需要将所有对象进行标记，可以先将直接可达的对象进行标记，标记完成后暂停标记
3. 然后让JS程序执行一会，再让GC机制去做二步标记，将间接可达的对象进行标记，标记完成后暂停标记
4. 重复以上两不操作，让程序执行和垃圾回收的标记操作交替执行，来达到优化效率和提升用户体验的目的。
5. 直到标记全部完成后，执行垃圾回收
6. 优点：让垃圾回收与程序执行可以交替完成，让时间消耗更合理，达到效率优化的好处